<!DOCTYPE html>
<html>
    <head>
        <!-- title -->
        <title>Link</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="../i/default.png"/>
        <!-- style sheets -->
        <link rel="stylesheet" href=".css/blob.css" />
        <style>
            * {
                margin: 0%;
                padding: 0%;
                height: 100%;
            }
            .center {
                /* Center and scale the image nicely */
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
        </style>
    </head>
    <body>
        <img id="randomImage" style="height:100%;" class="center"/>
        <script>
            // url params
            const queryString = window.location.search;
            console.log(queryString); // ?thumb=___&image=___&redirect=___&delay=___

            const urlParams = new URLSearchParams(queryString);
            
            /* get image
            const image = urlParams.get('image')
            console.log(image); */

            // get redirect
            const redirect = urlParams.get('redirect')
            console.log(redirect);

            // get thumbnail
            const thumb = urlParams.get('thumb')
            console.log(thumb);

            // get delay
            const delay = urlParams.get('delay')
            console.log(delay);

            /* display image
            function displayRandomImage() {
            var htmlImage = document.getElementById("randomImage");
            htmlImage.src = image;
            }
            displayRandomImage();*/

            // redirect
            setTimeout(function(){
            window.location.href = redirect;
            }, Number(delay));

            // thumbnail
            const favicon = document.querySelector('[rel=icon]');
            favicon.href = thumb;
        </script>
        

        <!-- blob -->
        <div class="cssload-dots">
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
            <div class="cssload-dot"></div>
        </div>
        
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <filter id="goo">
                    <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="12" ></feGaussianBlur>
                    <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0	0 1 0 0 0	0 0 1 0 0	0 0 0 18 -7" result="goo" ></feColorMatrix>
                    <!--<feBlend in2="goo" in="SourceGraphic" result="mix" ></feBlend>-->
                </filter>
            </defs>
        </svg>
    </body>
</html>